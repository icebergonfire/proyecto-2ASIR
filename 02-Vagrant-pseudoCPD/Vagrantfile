# -*- mode: ruby -*-
# vi: set ft=ruby :
VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|

	config.vm.provider :virtualbox do |vb|
    	vb.customize ["modifyvm", :id, "--cpus", "1"]
    end

	config.vm.define :main do | main |
	  main.vm.box = "debian/jessie64"
	  main.vm.network :public_network,:mac => "080027999238", bridge: "enp0s25", ip: "192.168.0.4"
	  main.vm.hostname = "main"
	  main.vm.provision "shell", inline: <<-SHELL
		/vagrant/base-provisioning.sh
		/vagrant/control-provisioning.sh
		/vagrant/haproxy-provisioning.sh
		/vagrant/nagios-server.sh
		/vagrant/autoNodeScan-provisioning.sh
		/vagrant/ddclient-provisioning.sh
		/bin/update-dns.sh
	SHELL
	end
	config.vm.define :node1 do | node1 |
	  node1.vm.box = "debian/jessie64"
	  node1.vm.hostname = "node1"
	  node1.vm.network :public_network, bridge: "enp0s25", type: "dhcp"
	  node1.vm.provision "shell", inline: <<-SHELL
		/vagrant/base-provisioning.sh
		/vagrant/apache2-provisioning.sh
		/vagrant/nagios-client.sh
	SHELL
	end

end

# Autogenerated.
